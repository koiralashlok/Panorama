# Panorama

## Overview

This project involves the creation of a panorama image by stitching together multiple images. This is done using feature detection, feature matching, and image registration techniques. The process involves detecting key features in images, matching these features across different images, and then using algorithms like RANSAC to align and blend the images together to create a seamless panoramic view.

Refer to the [Report](Report/Report.html) for more details and illustrations

## Objectives

- Capture multiple image pairs (or sets) to form the base of the panorama.
- Use feature detectors to identify key points within the images.
- Match the features across images using different descriptors.
- Use RANSAC to eliminate outliers and compute the homography for image alignment.
- Generate a final panorama by stitching images together based on matched points.

## Tools & Techniques

1. **Image Capture**  
   - Four pairs of images were captured, each set representing different parts of a scene that will be stitched together. Example images can be found below.
   - The images were selected to contain sufficient overlap, which is crucial for the panorama creation process.

2. **FAST & FAST-R Feature Detectors**  
   - **FAST (Features from Accelerated Segment Test)** is used to identify corner points in the images. This algorithm is fast and effective for detecting distinct features that will later be used for image matching.
   - **FAST-R** is a modified version of FAST, offering improvements in speed (by processing already computed FAST points) and providing additional computational efficiency.

   **Performance Analysis**:
   - FAST feature detection took approximately **0.2381s** per image.
   - FAST-R feature detection, which reuses previously computed FAST features, took **0.2588s**, resulting in a total time of **0.5s**. While slightly slower than FAST, the computational cost is negligible compared to the later benefits in image stitching.

3. **Point Description and Matching**  
   - The project used **FREAK (Fast Retina Keypoint)** for matching features in the first image pair (cereal box), and **ORB (Oriented FAST and Rotated BRIEF)** for the subsequent sets.
   - Matching the features helps in identifying corresponding points between images, which are necessary for aligning them in the panorama.
   
   **Results**:
   - The FASTR feature detector matched significantly more points in the first set (cereal box) than the FAST feature detector. However, in the second set, there was only a marginal improvement.
   - FAST feature matching took **0.2005s**, while FAST-R matching took **0.1008s**, making FAST-R roughly twice as fast.

4. **RANSAC for Robust Image Alignment**  
   - **RANSAC (Random Sample Consensus)** is used to robustly estimate the homography between pairs of images by eliminating outliers and computing a transformation matrix that aligns the images.
   - Different numbers of trials and iterations were tested to find the optimal settings for creating high-quality panoramas.

   **Results**:
   - For FASTR-based panoramas, a maximum of **100 iterations** was used, resulting in high-quality image alignment.
   - For FAST-based panoramas, a maximum of **10000 trials** was used, leading to good but slightly less accurate results compared to the FASTR panoramas.

5. **Final Panorama Generation**  
   - After the feature points were matched and the images aligned, the panorama was generated by stitching the images together.
   - The final panoramas achieved high quality with well-matched features, demonstrating the power of combining FASTR with RANSAC in image stitching.

   **Example Panoramas**:
   - Panoramas generated using both FAST and FASTR features are shown below, illustrating the results of the stitching process.

## Conclusion

This project achieved its goal of creating panoramic image by utilizing state-of-the-art feature detection (FAST and FASTR), point matching, and RANSAC-based image alignment. The results demonstrated that while FASTR is faster and computationally efficient, FAST offers better feature matching in certain cases, particularly when more features are available in the images.

The project showcases the importance of choosing the right combination of tools and parameters to optimize the panorama creation process in terms of both speed and quality.

## License
This project was made as a part of CMPT361 offered at Simon Fraser University. Some parts of this project were provided by instructor Dr. Yagiz Aksoy